{% extends "index.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}Track your Spending{% endblock %}

{% block page_content %}
<div class="page-header">
    <h1>Spending</h1>
</div>
<h3>Total Amount:</h3>
Total Amount total: {{total_overall_value}} <br>
Total Amount last year: {{default_total_sum}} <br>
<table>
  <th>email_customer</th>
  <th>date</th>
  <th>price</th>

{% for line in purchased_ticket %}
  <tr>
  	<td>{{line.email_customer}}</td>
    <td>{{line.date}}</td>
    <td>{{line.price}}</td>
  </tr>
{% endfor %}
</table>
Total Amount last year: {{default_total_sum}} <br>
<table>
  <th>email_customer</th>
  <th>date</th>
  <th>price</th>

{% for line in default_total_table %}
  <tr>
  	<td>{{line.email_customer}}</td>
    <td>{{line.date}}</td>
    <td>{{line.price}}</td>
  </tr>
{% endfor %}
</table>

<h3> Try</h3>
{% for line in default_total_table %}
  {{line.email_customer}} <br>
  {{line.date}} <br>
  {{line.price}} <br>
{% endfor %}

Sums={sums} <br>
Sums={{sums}} <br>
Sums={{sums[2]}} <br>
list_of_dates={list_of_dates} <br>
list_of_dates={{list_of_dates}} <br>

<var> list_sums = {{sums}} </var>
<var> l = list_sums.length </var>
list_sums[2] <br>
{{sums[2]}} <br>
var l = {{sums}}.length <br>
l <br>
<var> l = {{sums}}.length</var>

<div id="rows_graph">rows_for_graph</div>

<!DOCTYPE html>
<html>
  <head>
    <title>JavaScript Bar Chart</title>
    <script src="https://cdn.anychart.com/releases/8.0.0/js/anychart-base.min.js"></script>
  </head>
  <body>
    <div id="container" style="width: 100%; height: 100%"></div>
    <script>
      anychart.onDocumentReady(function() {
        var rows_graph = document.getElementById("rows_graph").value;
        // set the data
        var data = {
            header: ["Month", "Amount Spent"],
            rows: rows_graph
          };

        // create the chart
        var chart = anychart.bar();

        // add the data
        chart.data(data);

        // set the chart title
        chart.title("The deadliest earthquakes in the XXth century");

        // draw
        chart.container("container");
        chart.draw();
      });
    </script>
  </body>
</html>


{% endblock %}
